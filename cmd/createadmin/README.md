# CLI Команды

## createadmin

Создание первого пользователя-администратора в системе.

### Использование

```bash
make createadmin
```

Или напрямую через Go:

```bash
go run cmd/createadmin/main.go
```

### Процесс создания

Команда интерактивно запросит:

1. **Email администратора** - должен быть валидным email адресом
2. **Пароль** - минимум 8 символов (ввод скрыт)
3. **Подтверждение пароля** - для проверки корректности ввода

### Пример

```
$ make createadmin
Creating admin user...
Enter admin email: admin@example.com
Enter admin password: ********
Confirm admin password: ********
✓ Admin user created successfully!
  ID: 1
  Email: admin@example.com
  Role: admin
  Active: true
  Created: 2025-12-21 10:30:45
```

### Безопасность

- Пароль хешируется с помощью bcrypt перед сохранением
- Ввод пароля не отображается на экране
- Email нормализуется (приводится к нижнему регистру, обрезаются пробелы)
- Проверяется отсутствие пользователя с таким email

### Требования

- Запущенная база данных PostgreSQL
- Корректно настроенный .env файл с параметрами подключения к БД
- Выполненные миграции (таблица users должна существовать)

### Ошибки

Команда завершится с ошибкой если:
- Пользователь с таким email уже существует
- Пароль короче 8 символов
- Пароли не совпадают
- Email невалиден
- Нет подключения к базе данных
