# –ê—Ä—Ö–∏–≤ –º–∏–≥—Ä–∞—Ü–∏–π v1-v7

–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç **—Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é** –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã—Ö 7 –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:
- `000001_init_schema.*` ‚Äî –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î
- `000002_add_rules_and_indexes.*` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –∏ –∏–Ω–¥–µ–∫—Å–æ–≤
- `000003_add_raw_data_table.*` ‚Äî —Ç–∞–±–ª–∏—Ü–∞ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `000004_add_rag_workflow.*` ‚Äî RAG-–≤–æ—Ä–∫—Ñ–ª–æ—É
- `000005_add_catalog_status.*` ‚Äî —Å—Ç–∞—Ç—É—Å–Ω–∞—è –º–æ–¥–µ–ª—å –∫–∞—Ç–∞–ª–æ–≥–∞
- `000006_add_auth.*` ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `000007_add_unit_to_catalog.*` ‚Äî –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- `MIGRATIONS_HISTORY.md` ‚Äî –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–∞–∂–¥–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

## –î–∞—Ç–∞ –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏:
5 —Ñ–µ–≤—Ä–∞–ª—è 2026

## –ü—Ä–∏—á–∏–Ω–∞ –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏:
–ú–∏–≥—Ä–∞—Ü–∏–∏ –±—ã–ª–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ –æ–¥–Ω—É –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é 
`000001_init_schema_consolidated.up.sql` –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

üìñ **–ê–∫—Ç—É–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `/cmd/internal/db/migration/README_CONSOLIDATED.md`

## –ö–∞–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
# 1. –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é
rm cmd/internal/db/migration/000001_init_schema_consolidated.*

# 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –∞—Ä—Ö–∏–≤–∞
cp cmd/internal/db/migration/archive_v1-v7/00000[1-7]_*.sql cmd/internal/db/migration/

# 3. –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ë–î –∏–ª–∏ –æ—Ç–∫–∞—Ç–∏—Ç—å –¥–æ —á–∏—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
make migrate-down  # –∏–ª–∏ drop database –≤—Ä—É—á–Ω—É—é
make migrate-up
```
